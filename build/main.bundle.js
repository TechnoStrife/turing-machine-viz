var main=function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/build/",n(n.s=25)}([function(e,t){e.exports=d3},function(e,t){e.exports=_},function(e,t){e.exports=lodash},function(e,t,n){"use strict";var r=/*@cc_on!@*/Boolean(document.documentMode)||Boolean(window.StyleMedia);t.nonNull=function(e){if(null==e)throw new Error("expected a non-null defined value, but got: "+String(e));return e},t.coalesce=function(e,t){return null!=e?e:t},t.applyMaybe=function(e,t){return null!=t?e(t):t},t.getFirst=function(e,t){for(var n=0;n<t.length;++n){var r=e(t[n]);if(null!=r)return r}},t.toDocFragment=function(e){var t=document.createDocumentFragment();return e.forEach(t.appendChild.bind(t)),t},t.isBrowserIEorEdge=r},function(e,t){e.exports=jQuery},function(e,t,n){"use strict";function r(e,t,n){this.transition=e,this.state=t,this.tapes=n}function a(e,t){switch(t){case"R":e.headRight();break;case"L":e.headLeft();break;case"H":break;default:throw new TypeError("not a valid tape movement: "+String(t))}}r.prototype.toString=function(){return String(this.state)+"\n"+this.tapes.map(String).join("\n")},r.prototype.step=function(){let e=this.nextInstruction;if(null==e)return!1;for(let t=0;t<this.tapes.length;t++)this.tapes[t].write(e.symbol[t]),a(this.tapes[t],e.move[t]);return this.state=e.state,!0},Object.defineProperties(r.prototype,{nextInstruction:{get:function(){return this.transition(this.state,this.tapes.reduce((e,t)=>e+t.read(),""))},enumerable:!0},isHalted:{get:function(){return null==this.nextInstruction},enumerable:!0}}),t.TuringMachine=r},function(e,t,n){"use strict";function r(e,t,n){var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r)throw new TypeError("Cannot watch nonexistent property '"+t+"'");if(!r.configurable)throw new TypeError("Cannot watch non-configurable property '"+t+"'");if(r.writable||void 0!==r.set){var a=function(){if(r.set)return{get:r.get,set:function(a){return r.set.call(e,n.call(e,t,e[t],a))}};var a=r.value;return{get:function(){return a},set:function(r){return a=n.call(e,t,a,r)}}}();return Object.defineProperty(e,t,a),r}}t.watch=r,t.watchInit=function(e,t,n){var a=e[t],o=r(e,t,n);return o&&(e[t]=a),o}},function(e,t,n){"use strict";var r=n(18),a=n(1),o={name:"name",sourceCode:"source code",positionTable:"positions",editorSourceCode:"editor contents"},i=a.invert(o);function s(e){return function(t){var n={};return null!=t&&Object.keys(e).forEach((function(r){var a=e[r];n[a]=t[r]})),n}}var c=a.flow(s(o),a.omitBy((function(e){return null==e})),a.update("positions",a.mapValues((function(e){return e.fixed?{x:e.x,y:e.y}:{x:e.x,y:e.y,fixed:!1}}))),a.partialRight(r.safeDump,[{flowLevel:2,lineWidth:-1,noRefs:!0,noCompatMode:!0}])),u=a.flow(r.safeLoad,a.update("positions",a.mapValues((function(e){return a.defaults({px:e.x,py:e.y,fixed:!0},e)}))),s(i),(function(e){if(null==e||null==e.sourceCode)throw new l("The ‚Äúsource code:‚Äù value is missing");if(!a.isString(e.sourceCode))throw new l("The ‚Äúsource code:‚Äù value needs to be of type string");return e}));function l(e){this.name="InvalidDocumentError",this.message=e||"Invalid document",this.stack=(new Error).stack}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l,t.stringifyDocument=c,t.parseDocument=u,t.InvalidDocumentError=l,t.YAMLException=r.YAMLException},function(e,t,n){"use strict";const r=n(5).TuringMachine,a=n(9),o=n(12),i=n(13),s=n(6).watchInit,c=n(0);function u(e){return c.select(e.domNode).classed("active-edge",!0).transition().style("stroke-width","3px").transition().style("stroke-width","1px").transition().duration(0).each("start",(function(){c.select(this).classed("active-edge",!1)})).style("stroke",null).style("stroke-width",null)}function l(e,t){let n=0===t.tapes?1:t.tapes,r=[];for(let a=0;a<n;a++)r.push(d(e,t,a));return r}function d(e,t,n){return new a(e.append("svg").attr("class","tm-tape"),9,t.blank,t.input&&t.input[n]?String(t.input[n]).split(""):[])}function p(e,t,n){e=c.select(e);let a=new o(t.table);this.stateviz=new i(e,a.getVertexMap(),a.getEdges()),void 0!==n&&(this.positionTable=n),this.edgeAnimation=u,this.stepInterval=100;const d=this;this.machine=new r(function(e,t){return function(n,r){let a=e.getInstructionAndEdge(n,r);return null==a?null:(t(a.edge),a.instruction)}}(a,(function(e){let t=d.edgeAnimation(e);d.isRunning&&t.transition().duration(d.stepInterval).each("end",(function(){d.isRunning&&d.step()}))})),t.startState,l(e,t)),s(this.machine,"state",(function(e,t,n){return c.select(a.getVertex(t).domNode).classed("current-state",!1),c.select(a.getVertex(n).domNode).classed("current-state",!0),n})),this.isHalted=!1;let p=!1;Object.defineProperty(this,"isRunning",{configurable:!0,get:function(){return p},set:function(e){p!==e&&(p=e,p&&this.step())}}),this.__parentDiv=e,this.__spec=t}p.prototype.step=function(){this.machine.step()||(this.isRunning=!1,this.isHalted=!0)},p.prototype.reset=function(){this.isRunning=!1,this.isHalted=!1,this.machine.state=this.__spec.startState,this.machine.tapes.domNode.remove(),this.machine.tapes=l(this.__parentDiv,this.__spec)},Object.defineProperty(p.prototype,"positionTable",{get:function(){return this.stateviz.positionTable},set:function(e){this.stateviz.positionTable=e}}),e.exports=p},function(e,t,n){"use strict";var r=n(10),a=n(0);n(11);function o(e){return e.attr("class","tape-cell"),e.append("rect").datum(null).attr({width:50,height:50}),e.append("text").text((function(e){return e})).attr({x:25,y:33}),e}function i(e,t){return t=null==t?0:t,e.attr("transform",(function(e,n){return"translate("+(50*(n+t)-40)+")"})),e}function s(e){e.attr("transform","translate(0 10)").transition().duration(0).select(".exiting").remove()}function c(e,t,n,a){r.call(this,n,a),Object.defineProperty(this,"lookaround",{value:t,writable:!1,enumerable:!0}),Object.defineProperty(this,"domNode",{value:e,writable:!1,enumerable:!0});var c=50*(t+1+t-2)+20,u=70;e.attr({width:"95%",viewBox:[0,0,c,u].join(" ")}),this.wrapper=e.append("g").attr("class","wrapper").call(s),e.append("rect").attr({id:"tape-head",width:60,height:60,x:50*t-45,y:5}),this.wrapper.selectAll(".tape-cell").data(this.readRange(-t,t)).enter().append("g").call(o).call(i)}function u(e,t,n,r,a){t.call(o),n.classed("exiting",!0),e.selectAll(".tape-cell").call(i,a),e.attr("transform","translate("+(50*r).toString()+" 10)").transition().call(s)}c.prototype=Object.create(r.prototype),c.prototype.constructor=c,c.prototype.write=function(e){r.prototype.read.call(this)!==e&&(r.prototype.write.call(this,e),this.wrapper.selectAll(".exiting").remove(),a.select(this.wrapper[0][0].childNodes[this.lookaround]).datum(e).select("text").attr("fill-opacity","1").attr("stroke-opacity","1").transition().attr("fill-opacity","0.4").attr("stroke-opacity","0.1").transition().text((function(e){return e})).attr("fill-opacity","1").attr("stroke-opacity","1").transition().duration(0).attr("fill-opacity",null).attr("stroke-opacity",null))},c.prototype.headRight=function(){r.prototype.headRight.call(this),this.wrapper.selectAll(".exiting").remove(),u(this.wrapper,this.wrapper.append("g").datum(this.readOffset(this.lookaround)),this.wrapper.select(".tape-cell"),1,-1)},c.prototype.headLeft=function(){r.prototype.headLeft.call(this),this.wrapper.selectAll(".exiting").remove(),u(this.wrapper,this.wrapper.insert("g",":first-child").datum(this.readOffset(-this.lookaround)),this.wrapper.select(".wrapper > .tape-cell:last-of-type"),-1,0)},e.exports=c},function(e,t,n){"use strict";var r=n(1);function a(e,t){Object.defineProperty(this,"blank",{value:e,writable:!1,enumerable:!0}),this.tape={before:[],after:null==t||0==t.length?[e]:t.slice().reverse(),toString:function(){return this.before.join("")+"üîé"+this.after.slice().reverse().join("")}}}a.prototype.read=function(){return r.last(this.tape.after)},a.prototype.write=function(e){this.tape.after[this.tape.after.length-1]=e},a.prototype.headRight=function(){var e=this.tape.before,t=this.tape.after;e.push(t.pop()),r.isEmpty(t)&&t.push(this.blank)},a.prototype.headLeft=function(){var e=this.tape.before,t=this.tape.after;r.isEmpty(e)&&e.push(this.blank),t.push(e.pop())},a.prototype.toString=function(){return this.tape.toString()},a.prototype.readOffset=function(e){var t=this.tape;return e>=0?e<=t.after.length-1?t.after[t.after.length-1-e]:this.blank:e>=-t.before.length?t.before[t.before.length+e]:this.blank},a.prototype.readRange=function(e,t){return r.range(e,t+1).map((function(e){return this.readOffset(e)}),this)},e.exports=a},function(e,t,n){e.exports=n.p+"tape/tape.css"},function(e,t,n){"use strict";var r=n(2);function a(e){var t=r.mapValues(e,(function(e,t){return{label:t,transitions:e}})),n=[];return r.forEach(t,(function(e,a){e.transitions=e.transitions&&function(){let s={},c={};return r.forEach(e.transitions,(function(u,l){let d=l.split(",").reduce((function(e,t){return""===t&&""===e[e.length-1]?e[e.length-1]=",":e.push(t),e}),[]),p=function(a,o){let i=c[a]||r.tap(c[a]={source:e,target:t[a],labels:[]},n.push.bind(n));return i.labels.push(o),i}(null!=u.state?u.state:a,function(e,t){var n=(null==t.symbol?"":i(String(t.symbol))+",")+String(t.move);return e.map(i).join(",")+"‚Üí"+n}(d,u));d.forEach((function(e){s[e]={instruction:o(a,e,u),edge:p}}))})),s}()})),{graph:t,edges:n}}function o(e,t,n){if(t=t.split(""),n.symbol)for(let e=0;e<t.length;e++)n.symbol[e]&&(t[e]=n.symbol[e]);return r.defaults({symbol:t.join("")},n,{state:e})}function i(e){return" "===e?"‚ê£":e}function s(e){var t=a(e);Object.defineProperties(this,{__graph:{value:t.graph},__edges:{value:t.edges}})}s.prototype.getVertexMap=function(){return this.__graph},s.prototype.getEdges=function(){return this.__edges},s.prototype.getVertex=function(e){return this.__graph[e]},s.prototype.getInstructionAndEdge=function(e,t){var n=this.__graph[e];if(void 0===n)throw new Error("not a valid state: "+String(e));return n.transitions&&n.transitions[t]},e.exports=s},function(e,t,n){"use strict";var r=n(3).isBrowserIEorEdge,a=n(0),o=n(1),i=n(2).assign;function s(e,t){return e.map((function(e,n){return e+t[n]}))}function c(e,t){return s(e,t.map((function(e){return-e})))}function u(e){return Math.sqrt(function(e){return e.map((function(e){return e*e})).reduce((function(e,t){return e+t}),0)}(e))}function l(e,t){return[Math.cos(t)*e,Math.sin(t)*e]}function d(e){e.forEach((function(e){var t=e.source.index+","+e.target.index;this[t]=(this[t]||0)+1}),this)}d.prototype.numEdgesFromTo=function(e,t){return this[String(e)+","+String(t)]||0};var p=Object.freeze({loop:{},arc:{},straight:{}});function h(e,t,n){var r,a;return t===p.loop?(r=l(e,-15*Math.PI/180),a=" a 19,27 45 1,1 "+r[0]+","+(r[1]+e),function(){return"M "+n.source.x+","+(n.source.y-e)+a}):t===p.arc?function(){var t,r,a,o=[n.source.x,n.source.y],i=[n.target.x,n.target.y],d=c(i,o),p=1.2*u(d),h=(r=(t=d)[0],a=t[1],Math.atan2(a,r)),f=-Math.PI/2/2,m=s(o,l(e,h+f)),y=s(i,l(e,h+Math.PI-f));return o[0]<=i[0]?"M "+m[0]+" "+m[1]+" A "+p+" "+p+" 0 0,1 "+y[0]+" "+y[1]:"M "+y[0]+" "+y[1]+" A "+p+" "+p+" 0 0,0 "+m[0]+" "+m[1]}:t===p.straight?function(){var t=[n.source.x,n.source.y],r=[n.target.x,n.target.y],a=c(r,t);if(0===a[0]&&0===a[1])return null;var o,i,s=c(r,function(e,t){return e.map((function(e){return t*e}))}((i=u(o=a),o.map((function(e){return e/i}))),e));return"M "+t[0]+" "+t[1]+" L "+s[0]+" "+s[1]}:void 0}function f(e){return e}function m(){}function y(e,t,n){return Math.max(e,Math.min(n,t))}d.prototype.shapeForEdge=function(e){return e.target.index===e.source.index?p.loop:this.numEdgesFromTo(e.target.index,e.source.index)?p.arc:p.straight};var b=r?function(e,t){return e.append("div").style({width:"100%",height:"0","padding-bottom":100*t+"%",position:"relative"}).append("svg").style({position:"absolute",top:"0",left:"0"})}:function(e){return e.append("svg")};function g(e,t,n){var r=800,i=500,s=a.scale.category10(),c=b(e,i/r);c.attr({viewBox:[0,0,r,i].join(" "),version:"1.1",":xmlns":"http://www.w3.org/2000/svg",":xmlns:xlink":"http://www.w3.org/1999/xlink"});var u=t instanceof Array?t:o.values(t);this.__stateMap=t;var l=a.layout.force().nodes(u).links(n).size([r,i]).linkDistance([140]).charge([-500]).theta(.1).gravity(.05).start(),g=l.drag().on("dragstart",(function(e){e.fixed=!0,c.transition().style("box-shadow","inset 0 0 1px gold")})).on("dragend",(function(){c.transition().style("box-shadow",null)})),v=new d(n),w=c.selectAll(".edgepath").data(n).enter().append("g"),x=function(e,t){return String(-1.1*(t+1))+"em"},k=function(e,t){return String(.6+1.1*(t+1))+"em"};w.each((function(e,t){var n=a.select(this),r=n.append("path").attr({class:"edgepath",id:"edgepath"+t}).each((function(e){e.domNode=this})),o=n.selectAll(".edgelabel").data(e.labels).enter().append("text").attr("class","edgelabel");o.append("textPath").attr("xlink:href",(function(){return"#edgepath"+t})).attr("startOffset","50%").text(f);var i=v.shapeForEdge(e);switch(e.getPath=h(20,i,e),i){case p.straight:o.attr("dy",x),e.refreshLabels=function(){o.attr("transform",(function(){if(e.target.x<e.source.x){var t={x:(n=this.getBBox()).x+n.width/2,y:n.y+n.height/2};return"rotate(180 "+t.x+" "+t.y+")"}return null;var n}))};break;case p.arc:var s;e.refreshLabels=function(){var t=e.target.x<e.source.x;t!==s&&(r.classed("reversed-arc",t),o.attr("dy",t?k:x),s=t)};break;case p.loop:o.attr("transform",(function(e,t){return"translate("+String(8*(t+1))+" "+String(-8*(t+1))+")"})),e.refreshLabels=m}}));var L=w.selectAll(".edgepath"),R=c.selectAll(".node").data(u).enter(),C=R.append("circle").attr("class","node").attr("r",20).style("fill",(function(e,t){return s(t)})).each((function(e){e.domNode=this})).on("dblclick",(function(e){e.fixed=!1,l.resume()})).call(g),D=R.append("text").attr("class","nodelabel").attr("dy","0.25em").text((function(e){return e.label}));c.append("defs").selectAll("marker").data(["arrowhead","active-arrowhead","reversed-arrowhead","reversed-active-arrowhead"]).enter().append("marker").attr({id:function(e){return e},viewBox:"0 -5 10 10",refX:function(e){return 0===e.lastIndexOf("reversed-",0)?0:10},orient:"auto",markerWidth:10,markerHeight:10}).append("path").attr("d","M 0 -5 L 10 0 L 0 5 Z").attr("transform",(function(e){return 0===e.lastIndexOf("reversed-",0)?"rotate(180 5 0)":null}));var S=".edgepath {  marker-end: url(#arrowhead);}.edgepath.active-edge {  marker-end: url(#active-arrowhead);}.edgepath.reversed-arc {  marker-start: url(#reversed-arrowhead);  marker-end: none;}.edgepath.active-edge.reversed-arc {  marker-start: url(#reversed-active-arrowhead);  marker-end: none;}";c.append("style").each((function(){this.styleSheet?this.styleSheet.cssText=S:this.textContent=S})),l.on("tick",(function(){C.attr({cx:function(e){return e.x=y(20,r-20,e.x)},cy:function(e){return e.y=y(20,i-20,e.y)}}),D.attr("x",(function(e){return e.x})).attr("y",(function(e){return e.y})),L.attr("d",(function(e){return e.getPath()})),w.each((function(e){e.refreshLabels()})),u.every((function(e){return e.fixed}))&&l.stop()})),this.force=l}n(14);var v=o.mapValues(o.pick(["x","y","px","py","fixed"]));Object.defineProperty(g.prototype,"positionTable",{get:function(){return v(this.__stateMap)},set:function(e){!function(e,t){o.forEach((function(t,n){var r=e[n];void 0!==r&&i(t,r)}),t)}(e,this.__stateMap),this.force.resume()}}),e.exports=g},function(e,t,n){e.exports=n.p+"state-diagram/StateViz.css"},function(e,t,n){"use strict";var r,a,o,i=n(3).isBrowserIEorEdge,s=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}(),c=(r={},Object.freeze({get length(){return Object.keys(r).length},key:function(e){return e in Object.keys(r)?Object.keys(r)[e]:null},getItem:function(e){return{}.hasOwnProperty.call(r,e)?r[e]:null},setItem:function(e,t){r[e]=String(t)},removeItem:function(e){delete r[e]},clear:function(){r={}}})),u=(a=s?localStorage:c,o=i?function(){return window.document.hasFocus()}:function(){return!1},{read:a.getItem.bind(a),write:a.setItem.bind(a),remove:a.removeItem.bind(a),addStorageListener:s?function(e){window.addEventListener("storage",(function(t){o()||t.storageArea===localStorage&&e(t)}))}:function(){},removeStorageListener:s?window.removeEventListener.bind(window,"storage"):function(){}});t.canUseLocalStorage=s,t.KeyValueStorage=u},function(e,t){e.exports=Promise},function(e,t,n){"use strict";n(5);let r=n(18),a=n(2);function o(e,t={}){this.name="TMSpecError",this.stack=(new Error).stack,this.reason=e,this.details=t||{}}function i(e,t,n){return Object.freeze(a.omitBy({symbol:e,move:t,state:n},(function(e){return null==e})))}function s(e,t,n,r){return function(e,t){if(null!=t.state&&!(t.state in e))throw new o("Undeclared state",{problemValue:t.state,suggestion:"Make sure to list all states in the transition table and define their transitions (if any)"});return t}(t,function(){switch(typeof n){case"string":return function(e,t,n){if(n){if(e&&e[t])return e[t];let r=t.match(/^([^\d]\w+)?( |$)/),a=Array(n).fill("H"),s=Array(n);null!=r&&(t=t.slice(r[1].length).trim(),r=r[1]);let c=[];for(;""!==t;){let e=t.match(/^(\d)([RL]?)([^ ]?)( |$)/);if(null===e)throw new o("Unrecognized string",{problemValue:t,info:"An instruction can be a synonym or a state with instructions for tapes. Examples: <code>state2 1R 2R0</code>, <code>2Lx 3R</code>"});t=t.slice(e[0].length).trimLeft();let r=parseInt(e[1]);if(0===r)throw new o("Tape numbers start from 1",{problemValue:t});if(r>n)throw new o("Tape number is bigger than the number of tapes",{problemValue:t,info:`Your machine has only ${n} tapes`});if(r-=1,c.includes(r))throw new o("Two instructions for tape ‚Ññ"+r,{problemValue:t});c.push(r),""!==e[2]&&(a[r]=e[2]),""!==e[3]&&(s[r]=e[3])}return i(s,a.join(""),r)}if("L"===t)return{move:"L"};if("R"===t)return{move:"R"};if(e&&e[t])return e[t];throw new o("Unrecognized string",{problemValue:t,info:"An instruction can be a string if it's a synonym or a direction"})}(e,n,r);case"object":if(r)throw new o("Multitape TM only supports string instructions");return function(e){var t,n,r;if(null==e)throw new o("Missing instruction");if(function(){var t;if(!Object.keys(e).every((function(e){return t=e,"L"===e||"R"===e||"write"===e})))throw new o("Unrecognized key",{problemValue:t,info:"An instruction always has a tape movement <code>L</code> or <code>R</code>, and optionally can <code>write</code> a symbol"})}(),"L"in e&&"R"in e)throw new o("Conflicting tape movements",{info:"Each instruction needs exactly one movement direction, but two were found"});if("L"in e)n="L",r=e.L;else{if(!("R"in e))throw new o("Missing movement direction");n="R",r=e.R}if("write"in e){var a=String(e.write);if(1!==a.length)throw new o("Write requires a string of length 1");t=[a]}return i(t,n,r)}(n);default:throw new o("Invalid instruction type",{problemValue:typeof n,info:"An instruction can be a string (a direction <code>L</code>/<code>R</code> or a synonym) or a mapping (examples: <code>{R: accept}</code>, <code>{write: ' ', L: start}</code>)"})}}())}o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,Object.defineProperty(o.prototype,"message",{get:function(){let e=this.reason,t=this.details;function n(e){return"<code>"+e+"</code>"}let r=t.problemValue?" "+n(t.problemValue):"",o=(i=t.state,s=t.symbol,c=t.synonym,null!=i?null!=s?" in the transition from state "+n(i)+" and symbol "+n(s):" for state "+n(i):null!=c?" in the definition of synonym "+n(c):"");var i,s,c;let u=["<strong>"+e+r+"</strong>"+o,t.info,t.suggestion].filter(a.identity).map((function(e){return e+"."}));return o&&u.splice(1,0,"<br>"),u.join(" ")},enumerable:!0}),t.TMSpecError=o,t.parseSpec=function(e,t=!1){let n=r.safeLoad(e);if(null==n)throw new o("The document is empty",{info:"Every Turing machine requires a <code>blank</code> tape symbol, a <code>start state</code>, and a transition <code>table</code>"});let i={suggestion:"Examples: <code>blank: ' '</code>, <code>blank: '0'</code>"};if(null==n.blank)throw new o("No blank symbol was specified",i);if(n.blank=String(n.blank),1!==n.blank.length)throw new o("The blank symbol must be a string of length 1",i);if(t){if(void 0===n.tapes&&(n.tapes=1),!Number.isInteger(n.tapes))throw new o("The number of tapes must be an integer",{problemValue:typeof n.tapes});if(n.tapes>9)throw new o("Why would you need more than 9 tapes?")}else{if(void 0!==n.tapes&&1!==n.tapes)throw new o("This Turing machine has only 1 tape");n.tapes=0}if(n.startState=n["start state"],delete n["start state"],null==n.startState)throw new o("No start state was specified",{suggestion:"Assign one using <code>start state: </code>"});n.startState=String(n.startState),function(e){if(null==e)throw new o("Missing transition table",{suggestion:"Specify one using <code>table:</code>"});if("object"!=typeof e)throw new o("Transition table has an invalid type",{problemValue:typeof e,info:"The transition table should be a nested mapping from states to symbols to instructions"})}(n.table);let c=function(e,t,n){if(null==e)return null;if("object"!=typeof e)throw new o("Synonyms table has an invalid type",{problemValue:typeof e,info:"Synonyms should be a mapping from string abbreviations to instructions (e.g. <code>accept: {R: accept}</code>)"});return a.mapValues(e,(function(e,r){try{return s(null,t,e,n)}catch(e){throw e instanceof o&&(e.details.synonym=r,"Unrecognized string"===e.reason&&(e.details.info="Note that a synonym cannot be defined using another synonym")),e}}))}(n.synonyms,n.table,n.tapes);if(n.table=function(e,t,n){return a.mapValues(t,(function(r,i){if(null==r)return null;if("object"!=typeof r)throw new o("State entry has an invalid type",{problemValue:typeof r,state:i,info:"Each state should map symbols to instructions. An empty map signifies a halting state."});return a.mapValues(r,(function(r,a){try{return s(e,t,r,n)}catch(e){throw e instanceof o&&(e.details.state=i,e.details.symbol=a),e}}))}))}(c,n.table,n.tapes),!(n.startState in n.table))throw new o("The start state has to be declared in the transition table");return n},t.YAMLException=r.YAMLException},function(e,t){e.exports=jsyaml},function(e,t){e.exports=ace},function(e,t,n){"use strict";var r=n(15).KeyValueStorage,a=n(21),o=n(3),i=n(1);function s(e){var t=a.get(e);Object.defineProperties(this,{id:{value:e},prefix:{value:"doc."+e},isExample:{value:!!t}}),t&&Object.defineProperties(this,{sourceCode:c(t,this,"sourceCode"),positionTable:c(t,this,"positionTable"),name:{get:function(){return t.name},set:function(){},enumerable:!0}})}function c(e,t,n){var r=Object.getPrototypeOf(t),a=Object.getOwnPropertyDescriptor(r,n),i=a.get;return a.get=function(){return o.coalesce(i.call(t),e[n])},a}s.prototype.path=function(e){return[this.prefix,e].join(".")},function(){var e=r,t=e.read.bind(e),n=function(t,n){null!=n?e.write(t,n):e.remove(t)};function a(e){return{get:function(){return t(this.path(e))},set:function(t){n(this.path(e),t)},enumerable:!0}}var i={sourceCode:a("diagram.sourceCode"),positionTable:{get:function(){return o.applyMaybe(u,t(this.path("diagram.positions")))},set:function(e){n(this.path("diagram.positions"),o.applyMaybe(l,e))},enumerable:!0},editorSourceCode:a("editor.sourceCode"),name:a("name")};Object.defineProperties(s.prototype,i),s.prototype.dataKeys=Object.keys(i)}(),s.prototype.copyFrom=function(e){return this.dataKeys.forEach((function(t){this[t]=e[t]}),this),this},s.prototype.delete=function(){this.copyFrom({})},s.IDFromNameStorageKey=function(e){var t=/^doc\.([^.]+)\.name$/.exec(e);return t&&t[1]},s.addOutsideChangeListener=function(e){var t=/^doc\.([^.]+)\.(.+)$/;r.addStorageListener((function(n){var r=t.exec(n.key);r&&e(r[1],r[2])}))};var u=JSON.parse,l=i.flow(i.mapValues(function(e){var t=Math.pow(10,e);function n(e){return Math.round(e*t)/t}return function(e){var t=i(e).pick(["x","y","px","py"]).mapValues(n).value();return t.fixed=e.fixed,t}}(2)),JSON.stringify);e.exports=s},function(e,t,n){"use strict";var r=n(7).parseDocument,a=n(1).fromPairs;function o(e){return n(29)("./"+e+".yaml")}var i=["repeat01","binaryIncrement","divisibleBy3","copy1s","divisibleBy3Base10","matchThreeLengths","matchBinaryStrings","palindrome","busyBeaver3","busyBeaver4","powersOfTwo","lengthMult","binaryAdd","unaryMult","binaryMult"].map((function(e){var t=r(o(e));return t.id=e,[e,t]})),s=Object.freeze(a(i));function c(e){return{}.hasOwnProperty.call(s,e)}var u=i.map((function(e){return e[1]}));t.hasID=c,t.get=function(e){return c(e)?s[e]:null},t.list=u,t.firsttimeDocID="binaryIncrement",t.blankTemplate=o("_template")},function(e,t,n){"use strict";var r=n(46),a=n(47),o=n(7),i=n(23).getGist,s=n(4),c=n(1),u=n(0),l=n(16);function d(e){function t(e){return e?function(e){return decodeURIComponent(e.replace("+"," "))}(e):""}var n={};return e.split("&").forEach((function(e){var r=e.split("=");n[t(r[0])]=t(r[1])})),n}function p(e){this.node=e,this.titleNode=e.querySelector(".modal-header .modal-title"),this.bodyNode=e.querySelector(".modal-body"),this.footerNode=e.querySelector(".modal-footer"),this.cancelButtonNode=u.select(this.footerNode).text("").append("button").attr({type:"button",class:"btn btn-default","data-dismiss":"modal"}).text("Cancel").node(),this.$dialog=s(e).one("hide.bs.modal",this.__onClose.bind(this))}function h(e,t){var n=e.append("div").attr("class","panel panel-default");return n.append("div").attr("class","panel-heading").append("h5").attr("class","panel-title").html(t),n}p.prototype.__onClose=function(){this.onClose(),s(this.bodyNode).empty(),s(this.footerNode).empty()},p.prototype.onClose=function(){},p.prototype.show=function(){this.$dialog.modal({backdrop:"static",keyboard:!1})},p.prototype.close=function(){this.$dialog.modal("hide")},p.prototype.setBodyChildNodes=function(e){this.bodyNode.textContent="",this.bodyNode.appendChild(x(e))};var f=Object.freeze(u.selectAll([]));function m(e,t){var n=f;return t.data&&t.data.length&&(n=h(e,t.title)).append("div").attr("class","panel-body").append("ul").attr("class","list-inline").selectAll("li").data(t.data).enter().append("li").text(c.identity),n}function y(e,t){var n=f;return t.data&&t.data.length&&(n=h(e,t.title)).append("table").attr("class","table").call((function(e){e.append("thead").append("tr").selectAll("th").data(t.headers).enter().append("th").text(c.identity),e.append("tbody").selectAll("tr").data(t.data).enter().append("tr").selectAll("td").data(c.identity).enter().append("td").each((function(e){var t=u.select(this);"function"==typeof e?e(t):t.text(e)}))})),n}var b=c.every(c.isEmpty);function g(e,t,n){if(!b(t)){e.append("a").attr({href:"#nondocument-files",class:"disclosure-triangle collapsed",role:"button","data-toggle":"collapse"}).text(n||"Show other files");var r=e.append("div").attr({id:"nondocument-files",class:"collapse"});y(r,{title:"Unexpected error",headers:["Filename","Error"],data:t.otherError.map((function(e){return[e.filename,v(e.error)]}))}).classed("panel-danger",!0),y(r,{title:"Not suitable for import",headers:["Filename","Reason"],data:t.badDoc.map((function(e){return[e.filename,e.error.message]}))}),y(r,{title:"Not valid as YAML",headers:["Filename","Syntax error"],data:t.badYAML.map((function(e){return[e.filename,function(t){t.append("pre").text(e.error.message)}]}))}),m(r,{title:"File is too large",data:t.tooLarge}),m(r,{title:"Different file extension (not <code>.yaml</code>/<code>.yml</code>)",data:t.wrongType})}}function v(e){return e instanceof Error?String(e):e.message||e.name||String(e)}function w(e,t){var n=[],r={wrongType:[],tooLarge:[],badYAML:[],badDoc:[],otherError:[]};return l.each(t,(function(t){var i=t.filename||t.name;if(-1===i.search(/\.ya?ml$/))r.wrongType.push(i);else{if(!(t.truncated||t.size>e))return l.resolve(null!=t.content?t.content:a.readAsText(t)).then((function(e){n.push({filename:i,size:t.size,document:o.parseDocument(e)})})).catch((function(e){var t={filename:i,error:e};e instanceof o.YAMLException?r.badYAML.push(t):e instanceof o.InvalidDocumentError?r.badDoc.push(t):r.otherError.push(t)}));r.tooLarge.push(i)}})).return({documentFiles:n,nonDocumentFiles:r})}function x(e){var t=document.createDocumentFragment();return e.forEach((function(e){"string"==typeof e?t.appendChild(document.createTextNode(e)):t.appendChild(e)})),t}function k(e){var t,n,r,a=L({href:"https://gist.github.com/"+e.gistID,textContent:e.description||"gist "+e.gistID});return e.description?(t="q",n=a,(r=document.createElement(t)).appendChild(n),r):a}function L(e){var t=document.createElement("a");return t.href=e.href,t.target="_blank",t.textContent=e.textContent||e.href,t}function R(e){var t,n,a=e.gistID,o=e.dialogNode,s=e.importDocument,d=new p(o),h=null!=a?(d.titleNode.textContent="Import from GitHub gist",t=L({href:"https://gist.github.com/"+a}),d.setBodyChildNodes(["Retrieving ",t,"‚Ä¶"]),i(a).then((function(e){return n=k({gistID:a,description:e.description}),d.setBodyChildNodes(["Processing ",t,"‚Ä¶"]),c.values(e.files)}))):(d.titleNode.textContent="Import from files",d.setBodyChildNodes(["Processing files‚Ä¶"]),l.resolve(c.toArray(e.files)));d.show();var f=h.then(w.bind(void 0,409600)).then((function(e){var a=e.documentFiles;switch(a.length){case 0:return void function(e){var t=e.nonDocumentFiles,n=e.dialog,r=e.citeLink;u.select(n.bodyNode).text("").call((function(e){e.append("p").append("strong").text(b(t)?"No files were selected.":"None of the files are suitable for import."),r&&e.append("p").text("Requested URL: ").node().appendChild(r),g(e,t,"Show details")})),n.cancelButtonNode.textContent="Close"}({nonDocumentFiles:e.nonDocumentFiles,dialog:d,citeLink:t});case 1:return s(a[0].document),void d.close();default:!function(e){var t=e.documentFiles,n=e.nonDocumentFiles,a=e.citeNode,o=e.dialog,i=e.importDocuments,s=u.select(o.bodyNode).text("");s.append("p").call((function(e){e.append("strong").text("Select documents to import"),a&&(e.node().appendChild(document.createTextNode(" from ")),e.node().appendChild(a))}));var l=new r({table:s.append("table").attr({class:"table table-hover checkbox-table"}),headers:["Filename","Size"],data:t.map((function(e){return[e.filename,(t=e.size,(Math.ceil(10*t/1024)/10).toFixed(1)+" KB")];var t}))});g(s,n);var d=u.select(o.footerNode).append("button").attr({type:"button",class:"btn btn-primary","data-dismiss":"modal"}).property("disabled",!0).text("Import").on("click",(function(){u.select(this).on("click",null);var e=u.set(l.getCheckedValues());i(t.filter((function(t){return e.has(t.filename)})).map(c.property("document")))})).node();l.onChange=function(){d.disabled=l.isCheckedEmpty()}}({documentFiles:a,nonDocumentFiles:e.nonDocumentFiles,dialog:d,citeNode:n,importDocuments:function(e){e.concat().reverse().map(s)}})}})).catch((function(e){d.setBodyChildNodes([E(e)].concat(t?["Requested URL: ",t]:[])),d.cancelButtonNode.textContent="Close"})),m=new l((function(e){d.onClose=function(){f.cancel(),e()}}));return f.return(m)}var C=R,D=R;function S(e,t){var n=document.createElement(e);return n.innerHTML=t,n}function E(e){var t=e.xhr;if(t)return S("p",function(){switch(e.status){case"abort":return[""];case"timeout":return["<strong>The request timed out.</strong>","You can check your connection and try again."];default:return 404===t.status?["<strong>No GitHub gist exists with that ID.</strong>","It‚Äôs possible the ID is incorrect, or the gist was deleted."]:0===t.status?["GitHub could not be reached. Your Internet connection may be offline."]:["The import failed because of a <strong>connection error</strong>.","HTTP status code: "+t.status+" "+t.statusText]}}().join("<br>"));var n=document.createElement("pre");return n.textContent=v(e),x([S("p","An unexpected error occurred:"),n])}t.importGist=C,t.importLocalFiles=D,t.runImport=function(e){var t=d(location.search.substring(1))["import-gist"];t&&C(c.assign({gistID:t},e)).finally((function(){try{history.replaceState(null,null,location.pathname)}catch(e){}}))}},function(e,t,n){"use strict";var r=n(4),a=n(16);function o(e){return new a((function(t,n,r){e.then(t,(function(e,t,r){n({xhr:e,status:t,error:r})})),r&&r((function(){try{e.abort()}catch(e){}}))}))}a.config({cancellation:!0}),t.getGist=function(e){return o(r.ajax({url:"https://api.github.com/gists/"+e,type:"GET",dataType:"json",accepts:"application/vnd.github.v3+json"}))},t.createGist=function(e){return o(r.ajax({url:"https://api.github.com/gists",type:"POST",data:JSON.stringify(e),dataType:"json",accepts:"application/vnd.github.v3+json"}))}},,function(e,t,n){"use strict";var r=n(26),a=n(28),o=n(21),i=n(3).toDocFragment,s=n(19),c=n(4);function u(e){return document.getElementById(e)}function l(e,t){u("diagram-column").insertAdjacentHTML("afterbegin",'<div class="alert alert-'+e+' alert-dismissible" role="alert"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">√ó</span></button>'+t+"</div>")}function d(e){p.duplicate(e,{select:!0,type:"open"})}s.config.loadModule("ace/ext/language_tools"),n(15).canUseLocalStorage||l("info",'<p>Local storage is unavailable. Your browser could be in Private Browsing mode, or it might not support <a href="http://caniuse.com/#feat=namevalue-storage" target="_blank">local storage</a>.</p><strong>Any changes will be lost after leaving the webpage.</strong>'),new Function("/*@cc_on return @_jscript_version; @*/")()<11&&l("warning",'<p><strong>Your <a href="http://whatbrowser.org" target="_blank">web browser</a> is out of date</strong> and does not support some features used by this program.<br><em>The page may not work correctly, and data may be lost.</em></p>Please update your browser, or use another browser such as <a href="http://www.google.com/chrome/browser/" target="_blank">Chrome</a> or <a href="http://getfirefox.com" target="_blank">Firefox</a>.'),c((function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&u("misc-tips-list").insertAdjacentHTML("afterbegin",'<li><strong class="text-warning">Important note for iOS</strong>: iOS saves browser local storage in the cache folder, which is <strong>not backed up</strong>, and is <q cite="https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API#Browser_compatibility"><strong>subject to occasional clean up</strong>, at the behest of the OS, typically if space is short.</q></li>')})),c((function(){c(".tm-needsready").prop("disabled",!1);var e={dialogNode:u("importDialog"),importDocument:d};n(22).runImport(e);var t=c("#importPanel");t.one("show.bs.modal",(function(){n(48).init({$dialog:t,gistIDForm:u("gistIDForm"),importArgs:e})}));var r=u("exportPanel");n(49).init({$dialog:c(r),getCurrentDocument:function(){return f.save(),p.currentDocument},getIsSynced:f.getIsSynced.bind(f),gistContainer:u("shareGistContainer"),downloadContainer:u("exportDownloadContainer"),copyContentsButton:u("copyContentsButton"),textarea:r.querySelector("textarea")})}));var p=function(){var e=document.getElementById("tm-doc-menu"),t=document.createElement("optgroup");t.label="Documents",e.appendChild(t);var n=document.createElement("optgroup");return n.label="Examples",n.appendChild(i(o.list.map(a.prototype.optionFromDocument))),e.appendChild(n),new a({menu:e,group:t,storagePrefix:"tm.docs",firsttimeDocID:o.firsttimeDocID})}();!function(){p.onChange=function(t,n){switch(n&&n.type){case"duplicate":f.setBackingDocument(t);break;case"delete":f.forceLoadDocument(t);break;default:f.openDocument(t)}e()};var e=function(){var e,n=document.querySelector('[data-target="#renameDialog"]'),r=document.querySelector('[data-target="#deleteDialog"]');function a(){t()}return function(){var t=p.currentDocument.isExample;e!==t&&(t?(n.textContent="Rename a copy‚Ä¶",n.addEventListener("click",a),n.removeAttribute("data-toggle"),r.textContent="Reset this example‚Ä¶",r.setAttribute("data-target","#resetExampleDialog")):(n.textContent="Rename‚Ä¶",n.removeEventListener("click",a),n.setAttribute("data-toggle","modal"),r.textContent="Delete‚Ä¶",r.setAttribute("data-target","#deleteDialog")),e=t)}}();function t(){f.save(),p.duplicate(p.currentDocument,{select:!0})}e();var n=c(u("renameDialog"));[{id:"tm-doc-action-duplicate",callback:t},{id:"tm-doc-action-newblank",callback:function(){p.newDocument({select:!0}),f.editor.insertSnippet&&(f.editor.insertSnippet(o.blankTemplate),f.loadEditorSource())}}].forEach((function(e){document.getElementById(e.id).addEventListener("click",(function(t){t.preventDefault(),e.callback(t),n.modal({keyboard:!1}).one("hidden.bs.modal",(function(){f.editor.focus()}))}))}))}(),function(){var e=c(u("renameDialog")),t=u("renameDialogInput");function n(){p.delete(),f.forceLoadDocument(p.currentDocument)}e.on("show.bs.modal",(function(){t.value=p.currentOption.text})).on("shown.bs.modal",(function(){t.select()})).on("hidden.bs.modal",(function(){var e=t.value;p.currentOption.text!==e&&p.rename(e),t.value=""})),document.getElementById("renameDialogForm").addEventListener("submit",(function(t){t.preventDefault(),e.modal("hide")})),document.getElementById("tm-doc-action-delete").addEventListener("click",(function(){p.delete()})),document.getElementById("tm-doc-action-resetdiscard").addEventListener("click",n),document.getElementById("tm-doc-action-resetsave").addEventListener("click",(function(){p.duplicate(p.currentDocument,{select:!1}),n()}))}();var h,f=function(){function e(e,t){return e.querySelector("button.tm-"+t)}var t=document.getElementById("editor-container"),n=document.getElementById("controls-container"),a=t.parentNode;return new r({simulator:document.getElementById("machine-container"),editorAlerts:document.getElementById("editor-alerts-container"),editor:t},{simulator:{run:e(n,"run"),step:e(n,"step"),reset:e(n,"reset")},editor:{load:e(a,"editor-load"),revert:e(a,"editor-revert")}},p.currentDocument)}();f.editor.setTheme("ace/theme/chrome"),f.editor.commands.addCommand({name:"save",bindKey:{mac:"Cmd-S",win:"Ctrl-S"},exec:function(){f.loadEditorSource()}}),f.editor.session.setUseWrapMode(!0),c((function(){try{n(51).main(f.editor.commands,u("kbdShortcutTable"))}catch(e){}})),window.addEventListener("beforeunload",(function(e){try{f.save(),p.saveCurrentDocID()}catch(t){return l("warning",'<h4>The current document could not be saved.</h4><p>It‚Äôs likely that the <a href="https://en.wikipedia.org/wiki/Web_storage#Storage_size" target="_blank">local storage quota</a> was exceeded. Try downloading a copy of this document, then deleting other documents to make space.</p>'),(e||window.event).returnValue="There is not enough space left to save the current document."}})),window.addEventListener("blur",(function(){f.save()})),h=!1,n(20).addOutsideChangeListener((function(e,t){e!==f.getDocument().id||"name"===t||h||(h=!0,setTimeout((function(){h=!1,f.forceLoadDocument(f.getDocument(),!0)}),100))})),t.controller=f},function(e,t,n){"use strict";var r=n(27),a=n(17),o=n(3),i=n(19),s=n(0),c=a.TMSpecError,u=a.YAMLException,l=i.require("ace/undomanager").UndoManager;function d(e,t,n){this.simulator=new r(e.simulator,t.simulator);var a=i.edit(e.editor);a.session.setOptions({mode:"ace/mode/yaml",tabSize:2,useSoftTabs:!0}),a.setOptions({minLines:15,maxLines:50}),a.$blockScrolling=1/0;var o=t.editor,s=this;o.load.addEventListener("click",(function(){s.loadEditorSource(),s.save(),s.editor.focus()})),o.revert.addEventListener("click",(function(){s.revertEditorSource(),s.editor.focus()})),Object.defineProperties(this,{__document:{value:{editor:{}},writable:!0},buttons:{value:t},containers:{value:e},editor:{value:a,enumerable:!0}}),this.openDocument(n)}function p(e){return{row:e.mark.line,column:e.mark.column,text:"Not valid YAML (possibly caused by a typo):\n"+e.message,type:"error"}}d.prototype.getDocument=function(){return this.__document},d.prototype.setBackingDocument=function(e){this.__document=e},d.prototype.openDocument=function(e){if(this.getDocument().id!==e.id)return this.save(),this.forceLoadDocument(e)},d.prototype.forceLoadDocument=function(e,t){this.setBackingDocument(e);var n=e.sourceCode,r=e.editorSourceCode;if(this.simulator.clear(),this.setEditorValue(null==r?n:r),t||this.editor.session.setUndoManager(new l),null==r)this.loadEditorSource();else{this.isSynced=!1;try{this.simulator.sourceCode=n,this.simulator.positionTable=e.positionTable}catch(e){this.showCorruptDiagramAlert(!0)}}},d.prototype.save=function(){var e=this.getDocument();this.hasValidDiagram?(e.editorSourceCode=this.isSynced?void 0:this.editor.getValue(),e.sourceCode=this.simulator.sourceCode,e.positionTable=this.simulator.positionTable):null==e.editorSourceCode?e.sourceCode=this.editor.getValue():e.editorSourceCode=this.editor.getValue()},d.prototype.setEditorValue=function(e){this.editor.setValue(o.coalesce(e,""),-1),this.setAlertErrors([])},d.prototype.setAlertErrors=function(e){var t=this,n=s.select(t.containers.editorAlerts).selectAll(".alert").data(e,(function(e){return String(e)}));n.exit().remove(),n.enter().append("div").attr("class","alert alert-danger").attr("role","alert").each((function(e){var n=s.select(this);if(e instanceof u){var r=p(e),a=r.row+1,o=r.column;n.append("strong").text("Syntax error on ").append("a").text("line "+a).on("click",(function(){t.editor.gotoLine(a,o,!0),t.editor.focus(),s.event.preventDefault()})).attr("href","#"+t.containers.editor.id),n.append("br"),n.append("span").text("Possible reason: "+e.reason)}else e instanceof c?n.html(e.message):n.html("<strong>Unexpected error</strong>: "+e)})),t.editor.session.setAnnotations(e.map((function(e){return e instanceof u?p(e):null})).filter((function(e){return e})))},d.prototype.setLoadButtonSuccess=function(e){s.select(this.buttons.editor.load).classed({"btn-success":e,"btn-primary":!e})},Object.defineProperty(d.prototype,"isSynced",{set:function(e){if(e=Boolean(e),this.__isSynced!==e&&(this.__isSynced=e,this.setLoadButtonSuccess(e),e)){var t=function(){this.isSynced=!1,this.editor.removeListener("change",t)}.bind(this);this.editor.on("change",t)}},get:function(){return this.__isSynced}}),d.prototype.getIsSynced=function(){return Boolean(this.isSynced)},Object.defineProperty(d.prototype,"hasValidDiagram",{get:function(){return Boolean(this.simulator.sourceCode)}}),d.prototype.showCorruptDiagramAlert=function(e){var t,n=s.select(this.simulator.container);if(e){var r=this.buttons.editor.revert.textContent.trim();n.html("").append("div").attr("class","alert alert-danger").html("<h4>This imported document has an error</h4>"+["The diagram was not valid and could not be displayed.","You can either load a new diagram from the editor, or attempt to recover this one","using "+(t=r,"<q>"+t+"</q> (which will replace the current editor contents).")].join("<br>"))}else n.selectAll(".alert").remove()},d.prototype.loadEditorSource=function(){var e=function(){try{var e=!this.hasValidDiagram;return this.simulator.sourceCode=this.editor.getValue(),e&&(this.showCorruptDiagramAlert(!1),this.simulator.positionTable=this.getDocument().positionTable),[]}catch(e){return[e]}}.call(this);this.isSynced=0===e.length,this.setAlertErrors(e)},d.prototype.revertEditorSource=function(){this.setEditorValue(this.hasValidDiagram?this.simulator.sourceCode:this.getDocument().sourceCode),this.hasValidDiagram?this.isSynced=!0:this.loadEditorSource()},e.exports=d},function(e,t,n){"use strict";const r=n(17).parseSpec,a=n(8),o=n(6).watchInit,i=n(2).values;function s(e,t){this.container=e,this.buttons=t;const n=this;t.step.addEventListener("click",(function(){n.machine.isRunning=!1,n.machine.step()})),t.run.addEventListener("click",(function(){n.machine.isRunning=!n.machine.isRunning})),t.reset.addEventListener("click",(function(){n.machine.reset()})),t.all=i(t),this.clear()}function c(e,t,n,r,a){o(a,"isHalted",(function(n,r,a){return function(n){e.disabled=n,t.disabled=n}(a),a})),o(a,"isRunning",(function(e,a,o){return function(e){t.innerHTML=e?r:n}(o),o}))}s.prototype.clear=function(){this.sourceCode=null},Object.defineProperties(s.prototype,{sourceCode:{get:function(){return this.__sourceCode},set:function(e){if(this.machine&&(this.machine.isRunning=!1,this.machine.stateviz.force.stop()),null==e)this.machine=null,this.container.innerHTML="";else{let t=r(e,!0);if(this.machine){let e=this.machine.positionTable;this.clear(),this.machine=new a(this.container,t,e)}else this.machine=new a(this.container,t)}this.__sourceCode=e},enumerable:!0},positionTable:{get:function(){return this.machine&&this.machine.positionTable},set:function(e){this.machine&&e&&(this.machine.positionTable=e)},enumerable:!0},machine:{get:function(){return this.__machine},set:function(e){this.__machine=e,this.rebindButtons()}}}),s.prototype.htmlForRunButton='<span class="glyphicon glyphicon-play" aria-hidden="true"></span><br>Run',s.prototype.htmlForPauseButton='<span class="glyphicon glyphicon-pause" aria-hidden="true"></span><br>Pause',s.prototype.rebindButtons=function(){var e=this.buttons,t=null!=this.machine;t&&c(e.step,e.run,this.htmlForRunButton,this.htmlForPauseButton,this.machine),e.all.forEach((function(e){e.disabled=!t}))},e.exports=s},function(e,t,n){"use strict";var r=n(15).KeyValueStorage,a=n(20),o=n(0),i=n(1).defaults;function s(e){var t=e.menu,n=e.group||t,i=e.storagePrefix,s=e.firsttimeDocID;if(!t)throw new TypeError("DocumentMenu: missing parameter: menu element");if(!i)throw new TypeError("DocumentMenu: missing parameter: storage prefix");e.makeOption&&(this.optionFromDocument=e.makeOption),this.menu=t,this.group=n,this.group.innerHTML="",this.__storagePrefix=i,this.doclist=new c(i+".list"),this.render(),this.selectDocID(this.getSavedCurrentDocID()||s);var u=this;this.menu.addEventListener("change",(function(){u.onChange(u.currentDocument,{type:"open"})})),r.addStorageListener((function(e){var t,n,r;e.key===u.doclist.storageKey?(u.doclist.readList(),u.render()):(t=a.IDFromNameStorageKey(e.key))&&(n=u.findOptionByDocID(t))&&(n.parentNode.replaceChild(r=u.optionFromDocument(new a(t)),n),r.selected=n.selected,o.select(r).datum(o.select(n).datum()))}))}function c(e){this.storageKey=e,this.readList()}Object.defineProperties(s.prototype,{currentOption:{get:function(){return this.menu.options[this.menu.selectedIndex]},enumerable:!0},currentDocument:{get:function(){var e=this.currentOption;return e?new a(e.value):null},enumerable:!0}}),s.prototype.render=function(){var e=this.currentOption?this.currentOption.value:null,t=o.select(this.group).selectAll("option").data(this.doclist.list,(function(e){return e.id}));t.exit().remove();var n=this;t.enter().insert((function(e){return n.optionFromDocument(new a(e.id))})),this.currentOption.value!==e&&(this.selectDocID(this.getSavedCurrentDocID(),{type:"delete"})||this.onChange(this.currentDocument,{type:"delete"}))},s.prototype.findOptionByDocID=function(e){return this.menu.querySelector('option[value="'+e.replace(/"/g,'\\"')+'"]')},s.prototype.selectDocID=function(e,t){try{this.findOptionByDocID(e).selected=!0}catch(e){return!1}return this.onChange(this.currentDocument,t),!0},s.prototype.saveCurrentDocID=function(){var e=this.currentOption&&this.currentOption.value;e&&r.write(this.__storagePrefix+".currentDocID",e)},s.prototype.getSavedCurrentDocID=function(){return r.read(this.__storagePrefix+".currentDocID")},s.prototype.optionFromDocument=function(e){var t=document.createElement("option");return t.value=e.id,t.text=e.name||"untitled",t},s.prototype.onChange=function(){},s.prototype.__prepend=function(e,t){var n=this.optionFromDocument(e);return this.group.insertBefore(n,this.group.firstChild),t&&t.select&&(this.menu.selectedIndex=n.index,this.onChange(e,t)),e},s.prototype.newDocument=function(e){return this.__prepend(this.doclist.newDocument(),i({type:"open"},e))},s.prototype.duplicate=function(e,t){return this.__prepend(this.doclist.duplicate(e),i({type:"duplicate"},t))},s.prototype.rename=function(e){this.currentDocument.name=e,this.currentOption.text=e},s.prototype.delete=function(e){this.currentDocument.delete();var t=this.menu.selectedIndex,n=this.doclist.deleteIndex(t);return n&&(this.currentOption.remove(),this.menu.selectedIndex=t,this.onChange(this.currentDocument,i({type:"delete"},e))),n},c.newID=function(){return String(Date.now())},c.prototype.add=function(e){this.__list.unshift({id:e}),this.writeList()},c.prototype.readList=function(){this.__list=JSON.parse(r.read(this.storageKey))||[]},c.prototype.writeList=function(){r.write(this.storageKey,JSON.stringify(this.__list))},c.prototype.newDocument=function(){var e=c.newID();return this.add(e),new a(e)},c.prototype.duplicate=function(e){return this.newDocument().copyFrom(e)},c.prototype.deleteIndex=function(e){var t=this.__list.splice(e,1);return this.writeList(),t.length>0},Object.defineProperties(c.prototype,{list:{get:function(){return this.__list},enumerable:!0}}),e.exports=s},function(e,t,n){var r={"./_template.yaml":30,"./binaryAdd.yaml":31,"./binaryIncrement.yaml":32,"./binaryMult.yaml":33,"./busyBeaver3.yaml":34,"./busyBeaver4.yaml":35,"./copy1s.yaml":36,"./divisibleBy3.yaml":37,"./divisibleBy3Base10.yaml":38,"./lengthMult.yaml":39,"./matchBinaryStrings.yaml":40,"./matchThreeLengths.yaml":41,"./palindrome.yaml":42,"./powersOfTwo.yaml":43,"./repeat01.yaml":44,"./unaryMult.yaml":45};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=29},function(e,t){e.exports="input: '${2}'\nblank: '${3: }'\nstart state: ${4:start}\ntable:\n  ${4}:\n    ${5}\n"},function(e,t){e.exports="name: binary addition\nsource code: |\n  # Adds two binary numbers together.\n\n  # Format: Given input a+b where a and b are binary numbers,\n  # leaves c b on the tape, where c = a+b.\n  # Example: '11+1' => '100 1'.\n  input: '1011+11001'\n  blank: ' '\n  start state: right\n  table:\n    # Start at the second number's rightmost digit.\n    right:\n      [0,1,+]: R\n      ' ': {L: read}\n\n    # Add each digit from right to left:\n    # read the current digit of the second number,\n    read:\n      0: {write: c, L: have0}\n      1: {write: c, L: have1}\n      +: {write: ' ', L: rewrite}\n    # and add it to the next place of the first number,\n    # marking the place (using O or I) as already added.\n    have0: {[0,1]: L, +: {L: add0}}\n    have1: {[0,1]: L, +: {L: add1}}\n    add0:\n      [0,' ']: {write: O, R: back0}\n      1      : {write: I, R: back0}\n      [O,I]  : L\n    add1:\n      [0,' ']: {write: I, R: back1}\n      1      : {write: O, L: carry}\n      [O,I]  : L\n    carry:\n      [0,' ']: {write: 1, R: back1}\n      1      : {write: 0, L}\n    # Then, restore the current digit, and repeat with the next digit.\n    back0:\n      [0,1,O,I,+]: R\n      c: {write: 0, L: read}\n    back1:\n      [0,1,O,I,+]: R\n      c: {write: 1, L: read}\n\n    # Finish: rewrite place markers back to 0s and 1s.\n    rewrite:\n      O: {write: 0, L}\n      I: {write: 1, L}\n      [0,1]: L\n      ' ': {R: done}\n    done:\n\n\n  # Exercise:\n\n  # ‚Ä¢ Generate the Fibonacci sequence in binary, listed from right to left:\n  #   ...1101 1000 101 11 10 1 1 0\n  #   Hint: prefix the current number with a +, copy the previous number\n  #   and place it left of the +, run the adder, and repeat.\n  #   Example: '1 0' => '+1 0' => '0+1 0' => '1 1 0' => '+1 1 0' => ...\npositions:\n  right:   {x: 300, y: 130}\n  rewrite: {x: 500, y: 130}\n  done:    {x: 620, y: 130}\n\n  back0:  {x: 250, y: 250}\n  read:   {x: 400, y: 250}\n  back1:  {x: 550, y: 250}\n  carry:  {x: 650, y: 250}\n\n  add0:   {x: 150, y: 400}\n  have0:  {x: 300, y: 400}\n  have1:  {x: 500, y: 400}\n  add1:   {x: 650, y: 400}\n"},function(e,t){e.exports="name: binary increment\nsource code: |\n  # Adds 1 to a binary number.\n  input: '1011'\n  blank: ' '\n  start state: right\n  table:\n    # scan to the rightmost digit\n    right:\n      [1,0]: R\n      ' '  : {L: carry}\n    # then carry the 1\n    carry:\n      1      : {write: 0, L}\n      [0,' ']: {write: 1, L: done}\n    done:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Modify the machine to always halt on the leftmost digit\n  #   (regardless of the number's length).\n  #   Hint: add a state between carry and done.\n\n  # ‚Ä¢ Make a machine that adds 2 instead of 1.\n  #   Hint: 2 is '10' in binary, so the last digit is unaffected.\n  #   Alternative hint: chain together two copies of the machine from\n  #   the first exercise (renaming the states of the second copy).\n\n  # ‚Ä¢ Make a machine to subtract 1.\n  #   To simplify things, assume the input is always greater than 0.\npositions:\n  right: {x: 230, y: 250}\n  carry: {x: 400, y: 250}\n  done: {x: 570, y: 250}\n"},function(e,t){e.exports="name: binary multiplication\nsource code: |\n  # Multiplies two binary numbers together.\n\n  # Examples: '11*11' => '1001', '111*110' => '101010'.\n  input: '11*101' # 3*5 = 15 (1111 in binary)\n  blank: ' '\n  start state: start\n  table:\n    # Prefix the input with a '+', and go to the rightmost digit.\n    start:\n      [0,1]: {L: init}\n    init:\n      ' ': {write: '+', R: right}\n    right:\n      [0,1,'*']: R\n      ' ': {L: readB}\n\n    # Read and erase the last digit of the multiplier.\n    # If it's 1, add the current multiplicand.\n    # In any case, double the multiplicand afterwards.\n    readB:\n      0: {write: ' ', L: doubleL}\n      1: {write: ' ', L: addA}\n    addA:\n      [0,1]: L\n      '*': {L: read} # enter adder\n    # Double the multiplicand by appending a 0.\n    doubleL:\n      [0,1]: L\n      '*': {write: 0, R: shift}\n    double: # return from adder\n      [0,1,+]: R\n      '*': {write: 0, R: shift}\n    # Make room by shifting the multiplier right 1 cell.\n    shift:\n      0: {write: '*', R: shift0}\n      1: {write: '*', R: shift1}\n      ' ': {L: tidy} # base case: multiplier = 0\n    shift0:\n      0:   {R: shift0}\n      1:   {write: 0, R: shift1}\n      ' ': {write: 0, R: right}\n    shift1:\n      0:   {write: 1, R: shift0}\n      1:   {R: shift1}\n      ' ': {write: 1, R: right}\n\n    tidy:\n      [0,1]: {write: ' ', L}\n      +: {write: ' ', L: done}\n    done:\n\n  # This is the 'binary addition' machine almost verbatim.\n  # It's adjusted to keep the '+'\n  # and to lead to another state instead of halting.\n    read:\n      0: {write: c, L: have0}\n      1: {write: c, L: have1}\n      +: {L: rewrite} # keep the +\n    have0: {[0,1]: L, +: {L: add0}}\n    have1: {[0,1]: L, +: {L: add1}}\n    add0:\n      [0,' ']: {write: O, R: back0}\n      1      : {write: I, R: back0}\n      [O,I]  : L\n    add1:\n      [0,' ']: {write: I, R: back1}\n      1      : {write: O, L: carry}\n      [O,I]  : L\n    carry:\n      [0,' ']: {write: 1, R: back1}\n      1      : {write: 0, L}\n    back0:\n      [0,1,O,I,+]: R\n      c: {write: 0, L: read}\n    back1:\n      [0,1,O,I,+]: R\n      c: {write: 1, L: read}\n    rewrite:\n      O: {write: 0, L}\n      I: {write: 1, L}\n      [0,1]: L\n      ' ': {R: double} # when done, go to the 'double' state\n\n\n  # Remark:\n  # We can view the machine as expressing a recursive function:\n\n  #   multiply(a, b) = mult(0, a, b)\n\n  #   mult(acc, a, 0     ) = acc\n  #   mult(acc, a, 2k + 0) = mult(acc    , 2a, k)   where k ‚â† 0\n  #   mult(acc, a, 2k + 1) = mult(acc + a, 2a, k)\n\n  # where a, b, and k are natural numbers.\n\n  # Each reduction maintains the invariant\n  #   mult(acc, a, b) = acc + a * b\n  # Note that mult's third argument (b) is always decreasing,\n  # so mult is guaranteed to halt.\n  # Eventually b reaches 0 and the result is simply the accumulator.\npositions:\n  start:  {x: 80 , y: 70}\n  init:   {x: 190, y: 70}\n  tidy:   {x: 730, y: 70}\n  done:   {x: 730, y: 180}\n\n  right:  {x: 300, y: 115}\n  shift:  {x: 600, y: 115}\n  shift1: {x: 450, y: 70}\n  shift0: {x: 450, y: 160}\n\n  readB:  {x: 300, y: 215}\n  addA:   {x: 160, y: 215}\n  doubleL: {x: 550, y: 215}\n\n  rewrite: {x: 363, y: 300}\n  double: {x: 650, y: 300}\n\n  back0:  {x: 160, y: 370}\n  read:   {x: 300, y: 370}\n  back1:  {x: 440, y: 370}\n  carry:  {x: 540, y: 370}\n\n  add0:   {x:  60, y: 470}\n  have0:  {x: 200, y: 470}\n  have1:  {x: 400, y: 470}\n  add1:   {x: 540, y: 470}\n"},function(e,t){e.exports="name: 3-state busy beaver\nsource code: |\n  # A 3-state 2-symbol busy beaver for most non-blank symbols.\n  # It takes 13 steps and leaves 6 non-blank symbols on the tape.\n\n  # What's a \"busy beaver\"?\n  #   Suppose every possible Turing machine with n states and k symbols\n  #   (for instance, 3 states and 2 symbols) were started on\n  #   a blank tape with no input.\n  #   Some of the machines would never halt. Out of the ones that do halt,\n  #   a machine that leaves the most non-blank symbols on the tape\n  #   is called a busy beaver.\n  blank: '0'\n  start state: A\n  table:\n    A:\n      0: {write: 1, R: B}\n      1: {L: C}\n    B:\n      0: {write: 1, L: A}\n      1: R\n    C:\n      0: {write: 1, L: B}\n      1: {R: H}\n    H:\n\n  # An alternative criterion is halting after the most steps.\n  # This busy beaver takes the most steps (21) but only prints 5 1's:\n    # A:\n    #   0: {write: 1, R: B}\n    #   1: {R: H}\n    # B:\n    #   0: {write: 1, L: B}\n    #   1: {write: 0, R: C}\n    # C:\n    #   0: {write: 1, L}\n    #   1: {L: A}\n    # H:\n\n\n  # Exercise:\n\n  # ‚Ä¢ Consider Turing machines that have n states and k symbols.\n  #   Instead of a missing instruction, halting is denoted by\n  #   a transition to a special \"halt\" state (for a total of n+1 states).\n  #   How many different transition functions are possible?\n\n  #   Hint: Each instruction writes a symbol, moves left or right,\n  #   and goes to a state.\n  #   There is one instruction per combination of non-halt state & symbol.\n\n\n\n  #   Answer: (2k(n+1))^(nk)\npositions:\n  A: {x: 320, y: 296.188}\n  B: {x: 400, y: 157.624}\n  C: {x: 480, y: 296.188}\n  H: {x: 400, y: 376.188}\n"},function(e,t){e.exports='name: 4-state busy beaver\nsource code: |\n  # A 4-state 2-symbol busy beaver\n  # that halts after 107 steps, leaving 13 1\'s on the tape.\n  # It takes the most steps *and* prints the most 1\'s.\n  blank: 0\n  start state: A\n  table:\n    A: {0: {write: 1, R: B}, 1:           {L: B}}\n    B: {0: {write: 1, L: A}, 1: {write: 0, L: C}}\n    C: {0: {write: 1, R: H}, 1:           {L: D}}\n    D: {0: {write: 1, R   }, 1: {write: 0, R: A}}\n    H:\n\n\n  # Finding a busy beaver requires considering every n-state k-symbol\n  # machine and proving either that it halts with no more non-blank symbols\n  # or that it never halts at all.\n\n  # Even with strategies to reduce the search space‚Äî\n  # including normalization, accelerated simulation, and automated proofs‚Äî\n  # there are still machines that show surprising complexity\n  # and require individual analysis.\n\n  # This 4-state busy beaver was proven by Allen Brady in 1983.\n  # Busy beavers for 5 states and above are as yet unknown.\n  # At the time of writing, the current 5-state 2-symbol contender\n  # takes 47,176,870 steps to halt, and the 6-state contender\n  # takes over 7.4 * 10^36534 steps\n  # (http://www.logique.jussieu.fr/~michel/bbc.html).\n  # "Given that 5-state 2-symbol halting Turing machines can compute\n  # Collatz-like congruential functions, it may be very hard to find\n  # [the next busy beaver]" (https://oeis.org/A060843).\n\n\n  # An entertaining read on busy beavers and their profoundness:\n\n  # ‚Ä¢ "Who Can Name the Bigger Number?"\n  #   http://www.scottaaronson.com/writings/bignumbers.html\npositions:\n  # square with side length 160\n  A: {x: 320, y: 170}\n  B: {x: 480, y: 170}\n\n  C: {x: 480, y: 330}\n  D: {x: 320, y: 330}\n  H: {x: 620, y: 330}\n'},function(e,t){e.exports="name: copy 1s\nsource code: |\n  # Copies a string of consecutive 1s.\n  input: '111'\n  blank: 0\n  start state: each\n  table:\n    # mark the current 1 by erasing it\n    each:\n      0: {R: H}\n      1: {write: 0, R: sep}\n    # skip to the separator\n    sep:\n      0: {R: add}\n      1: R\n    # skip to the end of the copy and write a 1\n    add:\n      0: {write: 1, L: sepL}\n      1: R\n    # return to the separator\n    sepL:\n      0: {L: next}\n      1: L\n    # return to the erased 1, restore it, and then advance to the next 1\n    next:\n      0: {write: 1, R: each}\n      1: L\n    H:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Edit the machine to copy the string indefinitely,\n  #   i.e. given the input '11', produce 11011011011...\n  #   Hint: this can be done by modifying only one transition.\n\n  # ‚Ä¢ Make a machine to output the endless sequence 1011011101111011111...\npositions:\n  each: {x: 400   , y: 100}\n  sep:  {x: 400.01, y: 250}\n  add:  {x: 400.02, y: 400}\n  sepL: {x: 250   , y: 250}\n  next: {x: 250.01, y: 100}\n  H:    {x: 550   , y: 100}\n"},function(e,t){e.exports="name: divisible by 3\nsource code: |\n  # Checks if a binary number is divisible by 3.\n  input: '1001' # try '1111' (15), '10100' (20), '111001' (57)\n  blank: ' '\n  # How it works:\n\n  # Consider reading a binary number, say 10011 (19),\n  # from left to right one digit at a time.\n  # Each time a digit is read, the new value equals the new digit\n  # plus the old value shifted left one place (multiplied by 2).\n\n  # Digits  Value\n  # -------------\n  #         0\n  # 1       1\n  # 10      2\n  # 100     4\n  # 1001    9\n  # 10011   19\n\n  # Now instead of tracking the entire number, just track the remainder.\n  # It works the same way.\n  start state: q0\n  table:\n    q0:\n      0: R       # 2*0 + 0 = 0\n      1: {R: q1} # 2*0 + 1 = 1\n      ' ': {R: accept}\n    q1:\n      0: {R: q2} # 2*1 + 0 = 2\n      1: {R: q0} # 2*1 + 1 = 3\n    q2:\n      0: {R: q1} # 2*2 + 0 = 4\n      1: {R: q2} # 2*2 + 1 = 5\n    accept:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Modify the machine to check if n-1 is divisible by 3,\n  #   where n is the input. That is, accept the binary of 1, 4, 7, 10, ...\n  #   Hint: this can be done without modifying the tape (no 'write').\n\n  # ‚Ä¢ Round the number up to the nearest multiple of 3.\n  #   Hint: do one pass right to find the remainder, then another pass left\n  #   to add. See the 'binary increment' example for how to add.\n\n  # ‚Ä¢ Round the number down to the nearest multiple of 3.\npositions:\n  q0: {x: 230, y: 250}\n  q1: {x: 400, y: 250}\n  q2: {x: 570, y: 250}\n  accept: {x: 230.01, y: 380}\n"},function(e,t){e.exports="name: divisible by 3 (base 10)\nsource code: |\n  # Checks if a base 10 number is divisible by 3.\n  input: 4728 # try 42, 57, 1337, 5328, 7521, 314159265\n  blank: ' '\n  # This uses the same idea as the base 2 version.\n  #\n  # To make things more interesting, we derive the step relation:\n  # Let x be the number left of the tape head,\n  #     d the digit under the head, and\n  #     x' the number up to and including the head.\n  # Then\n  #   x' = 10x + d .\n  # Notice 10 ‚â° 1 (mod 3). Therefore\n  #   x' ‚â° x + d (mod 3) .\n  # Each step simply adds the new digit's remainder mod 3.\n  start state: q0\n  table:\n    q0:\n      [0,3,6,9]: R     # 0 + 0 ‚â° 0 (mod 3)\n      [1,4,7]: {R: q1} # 0 + 1 ‚â° 1\n      [2,5,8]: {R: q2} # 0 + 2 ‚â° 2\n      ' ': {R: accept}\n    q1:\n      [0,3,6,9]: R     # 1 + 0 ‚â° 1\n      [1,4,7]: {R: q2} # 1 + 1 ‚â° 2\n      [2,5,8]: {R: q0} # 1 + 2 ‚â° 0\n    q2:\n      [0,3,6,9]: R     # 2 + 0 ‚â° 2\n      [1,4,7]: {R: q0} # 2 + 1 ‚â° 0\n      [2,5,8]: {R: q1} # 2 + 2 ‚â° 1\n    accept:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Check for divisibility by 5.\n  #   Hint: only 2 states (besides accept) are required.\n\n  # ‚Ä¢ Check for divisibility by 4.\n  #   Hint: use 4 states (besides accept).\npositions:\n  # centered equilateral triangle with side length 250\n  q0: {x: 275, y: 322.1688}\n  q1: {x: 400, y: 105.6624}\n  q2: {x: 525, y: 322.1688}\n  accept: {x: 275.01, y: 430}\n"},function(e,t){e.exports="name: multiplied lengths\nsource code: |\n  # Decides the language { a^(i)b^(j)c^(k) | i*j = k and i,j,k ‚â• 1 }.\n  # (a's followed by b's then c's,\n  # where the number of a's multiplied by the number of b's\n  # equals the number of c's.)\n  input: aabbbcccccc # try abc, b, aabcbc, aabcc, aabbbbcccccccc\n  blank: ' '\n  start state: start\n\n  table:\n    # Check for the form a^(i)b^(j)c^(k) where i,j,k ‚â• 1.\n    start:  {        a: {R: a+}}\n    a+:     {a: R,   b: {R: b+}}\n    b+:     {b: R,   c: {R: c+}}\n    c+:     {c: R, ' ': {L: left}}\n    left:\n      [a,b,c]: L\n      ' ': {R: eachA}\n    # Then check that i*j = k.\n    #   The approach is two nested loops:\n    #   For each 'a':\n    #     For each 'b':\n    #       Mark one 'c'\n    #   At the end, check that all c's are marked.\n    eachA:\n      a: {write: ' ', R: eachB}\n      b: {R: scan}\n    eachB:\n      a: R\n      b: {write: B, R: markC}\n      C: {L: nextA}\n    markC:\n      [b,C]: R\n      c: {write: C, L: nextB}\n    nextB:\n      [b,C]: L\n      B: {R: eachB}\n    nextA:\n      a: L\n      B: {write: b, L}\n      ' ': {R: eachA}\n\n    scan:\n      [b,C]: R\n      ' ': {R: accept}\n    accept:\npositions:\n  start:  {x: 180, y: 40}\n  a+:     {x: 180, y: 180}\n  b+:     {x: 180, y: 320}\n  c+:     {x: 180, y: 460}\n  left:   {x: 290, y: 320}\n\n  accept: {x: 400, y: 40}\n  eachA:  {x: 400, y: 180}\n  eachB:  {x: 400, y: 320}\n  markC:  {x: 400, y: 460}\n\n  scan:   {x: 560, y: 180}\n  nextA:  {x: 560, y: 320}\n  nextB:  {x: 560, y: 460}\n"},function(e,t){e.exports="name: equal strings\nsource code: |\n  # Decides the language { w#w | w ‚àà {0,1}* }\n  # (two equal binary strings separated by '#')\n  input: '01001#01001' # try '#', '1#10', '10#1', '10#10'\n  blank: ' '\n  # Two strings are equal if they are both the empty string,\n  # or they start with the same symbol and are equal thereafter.\n  start state: start\n  table:\n    start:\n      # Inductive case: start with the same symbol.\n      0: {write: ' ', R: have0}\n      1: {write: ' ', R: have1}\n      # Base case: empty string.\n      '#': {R: check}\n    have0:\n      [0,1]: R\n      '#': {R: match0}\n    have1:\n      [0,1]: R\n      '#': {R: match1}\n    match0:\n      x: R\n      0: {write: x, L: back}\n    match1:\n      x: R\n      1: {write: x, L: back}\n    back:\n      [0,1,'#',x]: L\n      ' ': {R: start}\n    check:\n      x: R\n      ' ': {R: accept}\n    accept:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Accept if the second string is the bitwise complement\n  #   (1s and 0s swapped) of the first, e.g. accept '1101#0010'.\n\n  # ‚Ä¢ Check that a binary string has the same number of 0s and 1s;\n  #   eg., accept '001110' but reject '10010'.\n\n  # ‚Ä¢ Check if two strings are different.\n  #   Example: accept '00#001' and '0101#0111', but reject '1001#1001'.\npositions:\n  accept: {x: 80 , y: 250}\n  check:  {x: 190, y: 250}\n  # regular hexagon with side length 150\n  start:  {x: 300, y: 250}\n  back:   {x: 600, y: 250}\n  have1:  {x: 375, y: 120.10}\n  match1: {x: 525, y: 120.10}\n  have0:  {x: 375, y: 379.90}\n  match0: {x: 525, y: 379.90}\n"},function(e,t){e.exports="name: three equal lengths\nsource code: |\n  # Decides the language { a‚Åøb‚Åøc‚Åø | n ‚â• 1 }, that is,\n  # accepts a's followed by b's then c's of the same length.\n  input: aabbcc # try bac, aabc, aabcc, aabcbc\n  blank: ' '\n  # Mark the first a, b, and c on each pass (by capitalizing them).\n  # All a's must precede all b's, which must precede all c's.\n  # When there are no more a's,\n  # all input symbols should have been marked.\n  start state: qA\n  table:\n    qA:\n      a: {write: A, R: qB}\n      B: {R: scan}\n    qB:\n      [a,B]: R\n      b: {write: B, R: qC}\n    qC:\n      [b,C]: R\n      c: {write: C, L: back}\n    back:\n      [a,B,b,C]: L\n      A: {R: qA}\n    scan:\n      [B,C]: R\n      ' ': {R: accept}\n    accept:\n\n\n  # Exercises:\n\n  # ‚Ä¢ Suppose a ledger starts from 0 and gains one dollar for each +\n  #   and loses one for each -. Reading left to right,\n  #   check that the account never goes into the negative.\n  #   Examples: accept '+-++' and '++-+--', reject '-++' and '++---+'.\n\n  # ‚Ä¢ Check parentheses for proper nesting,\n  #   e.g. accept '()(()()())' but reject '(()))(' and '(()('.\npositions:\n  qA: {x: 240, y: 250}\n  qB: {x: 400, y: 250}\n  qC: {x: 560, y: 250}\n  back:   {x: 400, y: 370}\n  scan:   {x: 320, y: 150}\n  accept: {x: 480, y: 150}\n"},function(e,t){e.exports="name: palindrome\nsource code: |\n  # Accepts palindromes made of the symbols 'a' and 'b'\n  input: 'abba' # try a, ab, bb, babab\n  blank: ' '\n  start state: start\n  synonyms:\n    accept: {R: accept}\n    reject: {R: reject}\n  # A palindrome is either the empty string, a single symbol,\n  # or a (shorter) palindrome with the same symbol added to both ends.\n  table:\n    start:\n      a: {write: ' ', R: haveA}\n      b: {write: ' ', R: haveB}\n      ' ': accept # empty string\n    haveA:\n      [a,b]: R\n      ' ': {L: matchA}\n    haveB:\n      [a,b]: R\n      ' ': {L: matchB}\n    matchA:\n      a: {write: ' ', L: back} # same symbol at both ends\n      b: reject\n      ' ': accept # single symbol\n    matchB:\n      a: reject\n      b: {write: ' ', L: back} # same symbol at both ends\n      ' ': accept # single symbol\n    back:\n      [a,b]: L\n      ' ': {R: start}\n    accept:\n    reject:\n\n\n  # Exercise:\n\n  # ‚Ä¢ Modify the machine to include 'c' in the symbol alphabet,\n  #   so it also works for strings like 'cabbac'.\npositions:\n  haveA:  {x: 240, y: 185}\n  start:  {x: 400, y: 185}\n  haveB:  {x: 560, y: 185}\n\n  matchA: {x: 240, y: 315}\n  back:   {x: 400, y: 315}\n  matchB: {x: 560, y: 315}\n\n  accept: {x: 400, y: 55}\n  reject: {x: 400, y: 445}\n"},function(e,t){e.exports="name: powers of two\nsource code: |\n  # Matches strings of 0s whose length is a power of two.\n\n  # This example comes from the textbook\n  #   \"Introduction to the Theory of Computation\" (3rd edition, 2012)\n  #   by Michael Sipser\n  # The states have been renamed (from q1, q2, etc.)\n  # to make it easier to understand.\n  input: '0000' # try '0', '000', '00000000'\n  blank: ' '\n  start state: zero\n  synonyms:\n    accept: {R: accept}\n    reject: {R: reject}\n  # The idea: divide the length by 2 repeatedly until it reaches 1.\n\n  # To do this, cross off every other 0, one pass at a time.\n  # If any pass reads an odd number of 0s (a remainder), reject right away.\n  # Otherwise if every pass halves the length cleanly,\n  # the length must be a power of two (1*2^n for n ‚â• 0).\n\n  # Note that since the first 0 is never crossed off, we can simply\n  # erase it on the first pass and start the count from 1 from then on.\n  table:\n    zero:\n      0  : {write: ' ', R: one}\n      ' ': reject\n    # Base case: accept length of 1 = 2^0.\n    one:\n      0  : {write: x, R: even}\n      ' ': accept\n      x  : R\n    # Inductive case: divide by 2 and check for no remainder.\n    even:\n      0  : {R: odd}\n      ' ': {L: back} # return for another pass\n      x  : R\n    odd: # odd and > 1\n      0  : {write: x, R: even}\n      ' ': reject # odd number of 0s on this pass\n      x  : R\n    back:\n      ' ': {R: one}\n      [0,x]: L\n    accept:\n    reject:\npositions:\n  zero:   {x: 200, y: 200}\n  one:    {x: 400, y: 200}\n  even:   {x: 600, y: 200}\n\n  odd:    {x: 600, y: 385}\n  back:   {x: 500, y: 125}\n  accept: {x: 400, y: 300}\n  reject: {x: 200, y: 385}\n"},function(e,t){e.exports="name: repeat 0 1\nsource code: |\n  # This is the first example machine given by Alan Turing in his 1936 paper\n  #   \"On Computable Numbers, with an Application to\n  #    the Entscheidungsproblem\".\n  # It simply writes the endless sequence 0 1 0 1 0 1...\n  blank: ' '\n  start state: b\n  table:\n    b:\n      ' ': {write: 0, R: c}\n    c:\n      ' ':           {R: e}\n    e:\n      ' ': {write: 1, R: f}\n    f:\n      ' ':           {R: b}\n\n\n  # (Turing uses the convention of leaving a gap after each output cell,\n  # reserving it for marking the cell. For instance, on a tape that\n  # contains '0 1x0 0 1 1y1y0y', x marks the leftmost 1 and y marks 110.)\npositions:\n  b: {x: 300, y: 200, fixed: false}\n  c: {x: 450, y: 150, fixed: false}\n  e: {x: 500, y: 300, fixed: false}\n  f: {x: 350, y: 350, fixed: false}\n"},function(e,t){e.exports="name: unary multiplication\nsource code: |\n  # Multiplies together two unary numbers separated by a '*'.\n  # (Unary is like tallying. Here '||*|||' means 2 times 3.)\n  input: '||*|||' # try '*', '|*|||', '||||*||'\n  blank: ' '\n\n  # The idea:\n  #   multiply(0, b) = 0\n  #   multiply(a, b) = b + multiply(a-1, b)   when a > 0\n  start state: eachA\n  table:\n    # For each 1 in a, add a copy of b.\n    eachA:\n      '|': {write: ' ', R: toB}  # Inductive case: a > 0.\n      '*': {R: skip}             # Base case:      a = 0.\n    toB:\n      '|': R\n      '*': {R: eachB} # enter copier\n    nextA: # return from copier\n      ' ': {write: '|', R: eachA}\n      ['|','*']: L\n\n    skip:\n      '|': R\n      ' ': {R: done}\n    done:\n\n    # This is the 'copy 1s' machine, with ' ' as 0 and '|' as 1.\n    eachB:\n      ' ': {L: nextA}\n      '|': {write: ' ', R: sep}\n    sep:\n      ' ': {R: add}\n      '|': R\n    add:\n      ' ': {write: '|', L: sepL}\n      '|': R\n    sepL:\n      ' ': {L: nextB}\n      '|': L\n    nextB:\n      ' ': {write: '|', R: eachB}\n      '|': L\n\npositions:\n  eachA:  {x: 400, y:  50}\n  toB:    {x: 400, y: 150}\n  eachB:  {x: 400, y: 250}\n  sep:   {x: 400, y: 350}\n  add:   {x: 400, y: 450}\n\n  sepL:  {x: 280, y: 350}\n  nextB:  {x: 280, y: 250}\n\n  nextA:  {x: 280, y: 90}\n  skip:   {x: 520, y: 90}\n  done:   {x: 520, y: 190}\n"},function(e,t,n){"use strict";var r=n(4);function a(e){return e}function o(e){return e[0]}function i(e){this.table=e.table,this.headerRow=this.table.append("thead").append("tr"),this.tbody=this.table.append("tbody");var t=this;this.headerCheckbox=this.headerRow.append("th").attr("class","checkbox-cell").append("input").attr("type","checkbox").on("click",(function(){t.getCheckboxes().property("checked",this.checked),t.onChange()})),r(this.tbody.node()).on("click","tr",(function(e){if("INPUT"!==e.target.tagName){var n=this.querySelector('input[type="checkbox"]');n.checked=!n.checked}t.refresh(),t.onChange()})),e.headers&&this.setHeaders(e.headers),e.data&&this.setData(e.data)}i.prototype.setHeaders=function(e){var t=this.headerRow.selectAll("th:not(.checkbox-cell)").data(e);t.exit().remove(),t.enter().append("th"),t.text(a)},i.prototype.setData=function(e){var t=this.tbody.selectAll("tr").data(e,o);t.exit().remove(),t.enter().append("tr").append("td").attr("class","checkbox-cell").append("input").attr({type:"checkbox",value:o}),t.order();var n=t.selectAll("td:not(.checkbox-cell)").data(a);return n.exit().remove(),n.enter().append("td"),n.text(a),this},i.prototype.getCheckboxes=function(){return this.tbody.selectAll('input[type="checkbox"]')},i.prototype.getCheckedValues=function(){return this.tbody.selectAll('input[type="checkbox"]:checked')[0].map((function(e){return e.value}))},i.prototype.isCheckedEmpty=function(){var e=this.headerCheckbox.node();return!(e.checked||e.indeterminate)},i.prototype.refresh=function(){var e=this.headerCheckbox.node(),t=this.getCheckboxes(),n=t.size(),r=t.filter(":checked").size();0===r?e.checked=!1:r===n&&(e.checked=!0),e.indeterminate=0<r&&r<n},i.prototype.onChange=function(){},e.exports=i},function(e,t,n){"use strict";var r=n(16);t.readAsText=function(){var e=arguments;return new r((function(t,n,r){var a=new FileReader;a.addEventListener("load",(function(){t(a.result)})),a.addEventListener("error",(function(){n(a.error)})),r&&r((function(){try{a.abort()}catch(e){}})),a.readAsText.apply(a,e)}))}},function(e,t,n){"use strict";var r=n(22),a=n(7),o=n(1),i=n(0);function s(){return i.select(document.createElement("button")).attr({class:"close","aria-label":"Close"}).html('<span aria-hidden="true">&times;</span>').node()}t.init=function(e){var t=e.$dialog,n=e.gistIDForm,c=e.importArgs;function u(){t.modal("hide");var e=c.dialogNode;t.one("hidden.bs.modal",(function(){e.classList.contains("in")&&document.body.classList.add("modal-open")}))}n.addEventListener("submit",(function(e){e.preventDefault(),u();var t=n.querySelector('input[type="text"]').value;r.importGist(o.assign({gistID:t},c))})),function(){var e=document.querySelector("#importFilesPanel > .panel-body"),t=e.querySelector('input[type="file"]');document.getElementById("importFilesButton").addEventListener("click",(function(){u(),r.importLocalFiles(o.assign({files:t.files},c))}));var n=e.querySelector("textarea"),l=document.getElementById("importContentsButton");l.parentNode.style.position="relative",l.addEventListener("click",(function(t){var r,o,u,l,d;r={containers:{status:t.target.parentNode,details:e},importDocument:c.importDocument},o=n.value,u=r.containers,l=r.importDocument,d=function(){try{l(a.parseDocument(o))}catch(e){return e}}(),function(e,t){var n=i.select(e.status),r=i.select(e.details);n.selectAll('[role="alert"]').remove(),r.selectAll(".alert").remove();var o=n.append("span").attr({role:"alert"}).style({position:"absolute",left:0,width:"40%",top:"50%",transform:"translateY(-60%)"});if(t){var c=function(){var e=r.append("div").attr({role:"alert",class:"alert alert-danger"}).style("margin-top","1em");if(e.append(s).attr("data-dismiss","alert").on("click",(function(){o.remove()})),t instanceof a.YAMLException)e.append("h4").text("Not valid YAML"),e.append("pre").text(t.message);else{if(!(t instanceof a.InvalidDocumentError))return e.append("h4").text("Unexpected error"),e.append("pre").text(String(t)),"Import failed";e.append("span").text(t.message.replace(/\.?$/,"."))}return"Not a valid document"}();o.attr({class:"text-danger"}).html('<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span> '+c)}else o.attr({class:"text-success"}).html('<span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Import succeeded').transition().delay(2500).duration(2e3).style("opacity",0).remove()}(u,d),null==d&&n.select()}))}()}},function(e,t,n){"use strict";var r=n(7),a=n(23).createGist,o=n(50),i=n(4),s=!window.externalHost&&"download"in document.createElement("a"),c=function(){try{return document.queryCommandSupported("copy")}catch(e){return!1}}();function u(e){e.addEventListener("focus",(function(e){e.target.select()})),e.addEventListener("mouseup",(function(e){e.preventDefault()}))}function l(e,t,n,r){var o=t.textContent;t.textContent="Loading‚Ä¶",t.disabled=!0;var i={files:{},description:"Turing machine for http://turingmachine.io",public:!0};return i.files[n]={content:r},a(i).then((function(t){var n=t.id;!function(e,t){e.innerHTML='<input id="sharedPermalink" type="url" class="form-control" readonly><button type="button" class="btn btn-default" data-clipboard-target="#sharedPermalink"><span class="glyphicon glyphicon-copy" aria-hidden="true"></span></button>';var n=e.querySelector("input");n.value=t,n.size=t.length+2,u(n),n.focus()}(e,"http://turingmachine.io/?import-gist="+n)})).catch((function(e){var n=function(){var t=e.xhr;try{return"Response from GitHub: ‚Äú"+t.responseJSON.message+"‚Äù"}catch(e){return t.status>0?"HTTP status code: "+t.status+" "+t.statusText:"GitHub could not be reached.\nYour Internet connection may be offline."}}();alert("Could not create new gist.\n\n"+n),t.disabled=!1,t.textContent=o}))}t.init=function(e){var t=e.$dialog,n=e.getCurrentDocument,a=e.getIsSynced,d=e.gistContainer,p=e.downloadContainer,h=e.textarea;function f(){var e,c,u,f=n(),m=f.name+".yaml",y=r.stringifyDocument(f);a()||(c=i('<div class="alert alert-warning" role="alert">The code editor has <strong>unsynced changes</strong> and might not correspond with the diagram.<br>Click <q>Load machine</q> to try to sync them. Otherwise, two sets of code will be exported.</div>').prependTo(t.find(".modal-body"))),(u=d,u.innerHTML='<button type="button" class="btn btn-default">Create permalink</button><p class="help-block">This will create and link to a new <a href="https://help.github.com/articles/creating-gists/#creating-an-anonymous-gist" target="_blank">read-only</a> GitHub gist.</p>',u.querySelector("button")).addEventListener("click",(function(t){e=l(d,t.target,m,y)})),p.appendChild(function(e,t){var n=document.createElement("a");if(n.href="data:text/x-yaml;charset=utf-8,"+encodeURIComponent(t),n.target="_blank",n.download=e,s)return n.textContent="Download document",n.className="btn btn-primary",n;n.textContent="Right-click here and choose ‚ÄúSave target as‚Ä¶‚Äù or ‚ÄúDownload Linked File As‚Ä¶‚Äù";var r=document.createElement("p");return r.innerHTML=", <br>then name the file to end with <code>.yaml</code>",r.insertBefore(n,r.firstChild),r}(m,y)),h.value=y;var b=new o("[data-clipboard-target]");return b.on("success",(function(e){var t,n,r;t=e.trigger,n=i(t),r={title:"Copied!",placement:"bottom"},n.tooltip(r).tooltip("show").one("hidden.bs.tooltip",(function(){n.tooltip("destroy")})),e.clearSelection()})),function(){if(e)try{e.cancel()}catch(e){}c&&c.remove(),d.textContent="",p.textContent="",h.value="",b.destroy()}}s&&t.addClass("download-attr"),c||t.addClass("no-copycommand"),d.className="form-group form-inline",u(h),t.on("show.bs.modal",(function(){var e=f();t.one("hidden.bs.modal",e)})),t.on("shown.bs.modal",(function(){h.setSelectionRange(0,0)}))}},function(e,t){e.exports=Clipboard},function(e,t,n){"use strict";var r=n(0);function a(e){return e}function o(e){switch(e){case"Command":return"Cmd";case"Option":return"Opt";case"Up":return"‚Üë";case"Down":return"‚Üì";case"Left":return"‚Üê";case"Right":return"‚Üí";default:return e}}var i=[[{name:"save",desc:"Load machine<br> <small>Save changes and load the machine.</small>"}],[{name:"togglecomment",desc:"Toggle comment"},{name:"indent",desc:"Indent selection"},{name:"outdent",desc:"Unindent selection"}],[{name:"movelinesup",desc:"Move line up"},{name:"movelinesdown",desc:"Move line down"},{name:"duplicateSelection",desc:"Duplicate line/selection"}],[{name:"selectMoreAfter",desc:"Add next occurrence to selection<br> <small>Like a quick ‚Äúfind‚Äù. Useful for renaming things.</small>"},{name:"find",desc:"Find"},{name:"replace",desc:"Find and Replace"}]];t.main=function(e,t){var n=function(e){var t=e.platform,n="mac"!==t?a:function(e){return"Alt"===e?"Option":e};return function(r){return e.commands[r].bindKey[t].split("-").map(n)}}(e);return function(e,t){var n=r.select(t).selectAll("tbody").data(e).enter().append("tbody");return n.selectAll("tr").data(a).enter().append("tr").selectAll("td").data(a).enter().append("td").html(a),n}(i.map((function(e){return e.map((function(e){return[(t=n(e.name).map(o),t.map((function(e){return"<kbd>"+e+"</kbd>"})).join("-")),e.desc];var t}))})),t)}}]);
//# sourceMappingURL=main.bundle.js.map